<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Security SDLC & DevSecOps Complete Tutorial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            text-align: center;
        }
        
        h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }
        
        .subtitle {
            color: #64748b;
            font-size: 1.2rem;
        }
        
        .navigation {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }
        
        .nav-btn.active {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
        }
        
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .card {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }
        
        .card h2 {
            color: #1e293b;
            font-size: 2rem;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #3b82f6;
        }
        
        .card h3 {
            color: #334155;
            font-size: 1.5rem;
            margin: 25px 0 15px 0;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            margin: 20px 0;
        }
        
        .phase-card {
            background: #f8fafc;
            border-left: 5px solid #3b82f6;
            padding: 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .phase-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.1);
        }
        
        .phase-title {
            font-weight: 700;
            color: #1e293b;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .security-checklist {
            list-style: none;
            margin: 15px 0;
        }
        
        .security-checklist li {
            padding: 12px;
            background: #f1f5f9;
            margin-bottom: 10px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .security-checklist li:hover {
            background: #e2e8f0;
            transform: translateX(5px);
        }
        
        .security-checklist li::before {
            content: "‚úì";
            background: #10b981;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-weight: bold;
        }
        
        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .tool-card {
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .tool-card:hover {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
        }
        
        .tool-name {
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .tool-category {
            font-size: 0.85rem;
            opacity: 0.8;
        }
        
        .pipeline-flow {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .pipeline-stages {
            display: flex;
            align-items: center;
            gap: 20px;
            min-width: max-content;
        }
        
        .pipeline-stage {
            background: white;
            border: 3px solid #3b82f6;
            border-radius: 12px;
            padding: 20px;
            min-width: 180px;
            text-align: center;
            position: relative;
        }
        
        .pipeline-stage::after {
            content: "‚Üí";
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            color: #3b82f6;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .pipeline-stage:last-child::after {
            display: none;
        }
        
        .stage-name {
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 10px;
        }
        
        .stage-tools {
            font-size: 0.9rem;
            color: #64748b;
        }
        
        .architecture-diagram {
            background: #f8fafc;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
        }
        
        .arch-layer {
            background: white;
            border: 2px solid #3b82f6;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }
        
        .arch-layer::after {
            content: "‚á©";
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            color: #3b82f6;
            font-size: 1.8rem;
        }
        
        .arch-layer:last-child::after {
            display: none;
        }
        
        .layer-title {
            font-weight: 700;
            color: #1e293b;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        
        .layer-components {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .component {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .scenario-box {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .scenario-title {
            color: #92400e;
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 15px;
        }
        
        .scenario-content {
            color: #78350f;
            line-height: 1.8;
        }
        
        .qa-section {
            margin: 20px 0;
        }
        
        .qa-item {
            background: #f8fafc;
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .qa-question {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: white;
            padding: 20px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .qa-question:hover {
            padding-left: 25px;
        }
        
        .qa-toggle {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }
        
        .qa-answer {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            background: white;
        }
        
        .qa-answer.active {
            padding: 25px;
            max-height: 1000px;
        }
        
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .highlight {
            background: #fbbf24;
            color: #78350f;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .best-practice {
            background: #d1fae5;
            border-left: 5px solid #10b981;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .best-practice-title {
            color: #065f46;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .warning-box {
            background: #fee2e2;
            border-left: 5px solid #ef4444;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .warning-title {
            color: #991b1b;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .metrics-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .metric-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 5px;
        }
        
        .metric-label {
            color: #64748b;
            font-size: 0.9rem;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #2563eb);
            animation: progressAnimation 2s ease-out;
        }
        
        @keyframes progressAnimation {
            from { width: 0%; }
        }
        
        .tab-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .tab-buttons {
            display: flex;
            background: #f3f4f6;
        }
        
        .tab-btn {
            flex: 1;
            padding: 15px;
            background: transparent;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #64748b;
        }
        
        .tab-btn.active {
            background: white;
            color: #1e293b;
            border-bottom: 3px solid #3b82f6;
        }
        
        .tab-content {
            padding: 25px;
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîí Cloud Security SDLC & DevSecOps</h1>
            <p class="subtitle">Complete Tutorial with CI/CD Security & Architecture Scenarios</p>
        </div>

        <div class="navigation">
            <button class="nav-btn active" onclick="showSection('sdlc')">Security SDLC</button>
            <button class="nav-btn" onclick="showSection('devsecops')">DevSecOps</button>
            <button class="nav-btn" onclick="showSection('cicd')">CI/CD Security</button>
            <button class="nav-btn" onclick="showSection('architecture')">Architecture</button>
            <button class="nav-btn" onclick="showSection('scenarios')">Scenarios Q&A</button>
        </div>

        <!-- SECTION 1: Security SDLC -->
        <div id="sdlc" class="content-section active">
            <div class="card">
                <h2>üìã Secure Software Development Lifecycle (S-SDLC)</h2>
                
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
                    The Secure SDLC integrates security practices throughout every phase of software development, 
                    ensuring vulnerabilities are identified and mitigated early in the development process rather 
                    than after deployment.
                </p>

                <div class="grid-2">
                    <div class="phase-card">
                        <div class="phase-title">1. Planning & Requirements</div>
                        <ul class="security-checklist">
                            <li>Security requirements gathering</li>
                            <li>Risk assessment and threat modeling</li>
                            <li>Compliance requirements identification</li>
                            <li>Security budget allocation</li>
                            <li>Define security KPIs and metrics</li>
                        </ul>
                    </div>

                    <div class="phase-card">
                        <div class="phase-title">2. Design Phase</div>
                        <ul class="security-checklist">
                            <li>Security architecture review</li>
                            <li>Threat modeling (STRIDE/DREAD)</li>
                            <li>Security design patterns implementation</li>
                            <li>Data flow diagrams with security controls</li>
                            <li>Authentication & authorization design</li>
                        </ul>
                    </div>

                    <div class="phase-card">
                        <div class="phase-title">3. Development Phase</div>
                        <ul class="security-checklist">
                            <li>Secure coding guidelines enforcement</li>
                            <li>IDE security plugins integration</li>
                            <li>Pre-commit security hooks</li>
                            <li>Dependency vulnerability scanning</li>
                            <li>Code review with security focus</li>
                        </ul>
                    </div>

                    <div class="phase-card">
                        <div class="phase-title">4. Testing Phase</div>
                        <ul class="security-checklist">
                            <li>Static Application Security Testing (SAST)</li>
                            <li>Dynamic Application Security Testing (DAST)</li>
                            <li>Interactive Application Security Testing (IAST)</li>
                            <li>Software Composition Analysis (SCA)</li>
                            <li>Penetration testing</li>
                        </ul>
                    </div>

                    <div class="phase-card">
                        <div class="phase-title">5. Deployment Phase</div>
                        <ul class="security-checklist">
                            <li>Security configuration validation</li>
                            <li>Infrastructure security hardening</li>
                            <li>Secrets management implementation</li>
                            <li>Network security controls</li>
                            <li>WAF and DDoS protection setup</li>
                        </ul>
                    </div>

                    <div class="phase-card">
                        <div class="phase-title">6. Maintenance Phase</div>
                        <ul class="security-checklist">
                            <li>Security patch management</li>
                            <li>Continuous vulnerability monitoring</li>
                            <li>Security incident response</li>
                            <li>Security metrics tracking</li>
                            <li>Regular security assessments</li>
                        </ul>
                    </div>
                </div>

                <div class="best-practice">
                    <div class="best-practice-title">üí° Best Practice: Shift-Left Security</div>
                    <p>Implement security controls as early as possible in the SDLC. The cost of fixing vulnerabilities increases exponentially as you move from development to production. Early detection through automated security scanning can reduce remediation costs by up to 100x.</p>
                </div>

                <h3>Essential Security Tools by Phase</h3>
                <div class="tool-grid">
                    <div class="tool-card">
                        <div class="tool-name">Threat Dragon</div>
                        <div class="tool-category">Threat Modeling</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-name">SonarQube</div>
                        <div class="tool-category">Code Quality & SAST</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-name">Checkmarx</div>
                        <div class="tool-category">SAST/SCA</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-name">OWASP ZAP</div>
                        <div class="tool-category">DAST</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-name">Snyk</div>
                        <div class="tool-category">Dependency Scanning</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-name">GitLab Security</div>
                        <div class="tool-category">Integrated Security</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-name">Fortify</div>
                        <div class="tool-category">Enterprise SAST</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-name">Veracode</div>
                        <div class="tool-category">Cloud Security Platform</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 2: DevSecOps -->
        <div id="devsecops" class="content-section">
            <div class="card">
                <h2>üöÄ DevSecOps Implementation</h2>
                
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
                    DevSecOps integrates security practices within the DevOps pipeline, making everyone responsible 
                    for security. It emphasizes automation, continuous monitoring, and collaboration between 
                    development, security, and operations teams.
                </p>

                <h3>DevSecOps Maturity Model</h3>
                <div class="metrics-dashboard">
                    <div class="metric-card">
                        <div class="metric-value">Level 1</div>
                        <div class="metric-label">Initial - Ad hoc security</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 20%;"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">Level 2</div>
                        <div class="metric-label">Managed - Basic automation</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 40%;"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">Level 3</div>
                        <div class="metric-label">Defined - Integrated security</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%;"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">Level 4</div>
                        <div class="metric-label">Quantified - Metrics-driven</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 80%;"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">Level 5</div>
                        <div class="metric-label">Optimizing - Continuous improvement</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%;"></div>
                        </div>
                    </div>
                </div>

                <h3>Core DevSecOps Practices</h3>
                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-btn active" onclick="showTab(event, 'culture')">Culture</button>
                        <button class="tab-btn" onclick="showTab(event, 'automation')">Automation</button>
                        <button class="tab-btn" onclick="showTab(event, 'measurement')">Measurement</button>
                        <button class="tab-btn" onclick="showTab(event, 'sharing')">Sharing</button>
                    </div>
                    <div id="culture" class="tab-content active">
                        <h4>Security Culture & Collaboration</h4>
                        <ul class="security-checklist">
                            <li>Security champions program in each team</li>
                            <li>Regular security training and workshops</li>
                            <li>Blameless post-mortem for security incidents</li>
                            <li>Security as shared responsibility model</li>
                            <li>Cross-functional security guilds</li>
                        </ul>
                    </div>
                    <div id="automation" class="tab-content">
                        <h4>Security Automation</h4>
                        <ul class="security-checklist">
                            <li>Automated security testing in CI/CD</li>
                            <li>Infrastructure as Code security scanning</li>
                            <li>Automated compliance validation</li>
                            <li>Security policy as code</li>
                            <li>Automated incident response playbooks</li>
                        </ul>
                    </div>
                    <div id="measurement" class="tab-content">
                        <h4>Security Metrics & KPIs</h4>
                        <ul class="security-checklist">
                            <li>Mean time to remediation (MTTR)</li>
                            <li>Vulnerability discovery rate</li>
                            <li>Security test coverage percentage</li>
                            <li>False positive ratio</li>
                            <li>Security training completion rate</li>
                        </ul>
                    </div>
                    <div id="sharing" class="tab-content">
                        <h4>Knowledge Sharing</h4>
                        <ul class="security-checklist">
                            <li>Security documentation wikis</li>
                            <li>Threat intelligence sharing</li>
                            <li>Security lessons learned database</li>
                            <li>Open source security tools contribution</li>
                            <li>Regular security brown bag sessions</li>
                        </ul>
                    </div>
                </div>

                <h3>DevSecOps Pipeline Architecture</h3>
                <div class="pipeline-flow">
                    <div class="pipeline-stages">
                        <div class="pipeline-stage">
                            <div class="stage-name">Plan</div>
                            <div class="stage-tools">Threat Modeling<br>Risk Assessment</div>
                        </div>
                        <div class="pipeline-stage">
                            <div class="stage-name">Code</div>
                            <div class="stage-tools">IDE Security<br>Pre-commit Hooks</div>
                        </div>
                        <div class="pipeline-stage">
                            <div class="stage-name">Build</div>
                            <div class="stage-tools">SAST<br>Dependency Check</div>
                        </div>
                        <div class="pipeline-stage">
                            <div class="stage-name">Test</div>
                            <div class="stage-tools">DAST<br>IAST</div>
                        </div>
                        <div class="pipeline-stage">
                            <div class="stage-name">Release</div>
                            <div class="stage-tools">Compliance Check<br>Sign & Verify</div>
                        </div>
                        <div class="pipeline-stage">
                            <div class="stage-name">Deploy</div>
                            <div class="stage-tools">Config Validation<br>Secrets Mgmt</div>
                        </div>
                        <div class="pipeline-stage">
                            <div class="stage-name">Monitor</div>
                            <div class="stage-tools">RASP<br>SIEM</div>
                        </div>
                    </div>
                </div>

                <div class="code-block">
# Example DevSecOps Pipeline Configuration (GitLab CI)
stages:
  - security_scan
  - build
  - test
  - security_test
  - deploy

variables:
  SECURE_LOG_LEVEL: "debug"

# Secret Detection
secret_detection:
  stage: security_scan
  script:
    - git secrets --scan
    - trufflehog --regex --entropy=True .

# SAST Scanning
sast:
  stage: security_scan
  script:
    - semgrep --config=auto --json -o sast-report.json .
    - sonar-scanner -Dsonar.projectKey=$CI_PROJECT_NAME

# Dependency Scanning
dependency_scanning:
  stage: security_scan
  script:
    - safety check --json > safety-report.json
    - npm audit --json > npm-audit.json
    - snyk test --all-projects

# Container Scanning
container_scanning:
  stage: security_test
  script:
    - trivy image --severity HIGH,CRITICAL $IMAGE_NAME
    - grype $IMAGE_NAME -o json > grype-report.json

# DAST Scanning
dast:
  stage: security_test
  script:
    - zap-baseline.py -t $TARGET_URL -g gen.conf -r zap-report.html

# Infrastructure as Code Scanning
iac_scanning:
  stage: security_scan
  script:
    - checkov -d . --framework terraform
    - tfsec . --format json > tfsec-report.json
                </div>
            </div>
        </div>

        <!-- SECTION 3: CI/CD Security -->
        <div id="cicd" class="content-section">
            <div class="card">
                <h2>üîÑ CI/CD Pipeline Security</h2>
                
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
                    Securing the CI/CD pipeline is critical as it's the backbone of modern software delivery. 
                    A compromised pipeline can lead to supply chain attacks, data breaches, and malicious code deployment.
                </p>

                <h3>CI/CD Security Architecture</h3>
                <div class="architecture-diagram">
                    <div class="arch-layer">
                        <div class="layer-title">Source Control Security</div>
                        <div class="layer-components">
                            <span class="component">Branch Protection</span>
                            <span class="component">Signed Commits</span>
                            <span class="component">Code Review</span>
                            <span class="component">Access Control</span>
                            <span class="component">Audit Logging</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <div class="layer-title">Build Security</div>
                        <div class="layer-components">
                            <span class="component">Secure Build Environment</span>
                            <span class="component">Dependency Verification</span>
                            <span class="component">Build Attestation</span>
                            <span class="component">SBOM Generation</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <div class="layer-title">Artifact Security</div>
                        <div class="layer-components">
                            <span class="component">Container Signing</span>
                            <span class="component">Registry Scanning</span>
                            <span class="component">Access Control</span>
                            <span class="component">Vulnerability Scanning</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <div class="layer-title">Deployment Security</div>
                        <div class="layer-components">
                            <span class="component">Zero Trust Network</span>
                            <span class="component">Secrets Management</span>
                            <span class="component">RBAC</span>
                            <span class="component">Policy Enforcement</span>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <div class="warning-title">‚ö†Ô∏è Critical Security Controls</div>
                    <p>Never store secrets in code repositories. Use dedicated secret management solutions like HashiCorp Vault, AWS Secrets Manager, or Azure Key Vault. Implement secret rotation and ensure all secrets are encrypted at rest and in transit.</p>
                </div>

                <h3>Pipeline Security Implementation</h3>
                <div class="code-block">
# Jenkins Pipeline with Security Controls
pipeline {
    agent {
        label 'secure-build-agent'
    }
    
    options {
        buildDiscarder(logRotator(numToKeepStr: '10'))
        timeout(time: 1, unit: 'HOURS')
        timestamps()
    }
    
    environment {
        VAULT_ADDR = 'https://vault.company.com'
        SONAR_HOST = credentials('sonar-host')
    }
    
    stages {
        stage('Pre-Security Checks') {
            steps {
                script {
                    // Verify branch protection
                    sh 'git config --global core.hooksPath .githooks'
                    
                    // Check commit signatures
                    sh '''
                        git verify-commit HEAD || exit 1
                        echo "Commit signature verified"
                    '''
                }
            }
        }
        
        stage('Secret Scanning') {
            steps {
                sh '''
                    # Detect secrets in code
                    detect-secrets scan --baseline .secrets.baseline
                    
                    # Scan for AWS credentials
                    git secrets --scan
                '''
            }
        }
        
        stage('SAST Analysis') {
            parallel {
                stage('SonarQube') {
                    steps {
                        withSonarQubeEnv('SonarQube') {
                            sh 'mvn sonar:sonar'
                        }
                    }
                }
                stage('Checkmarx') {
                    steps {
                        checkmarxScan(
                            projectName: env.JOB_NAME,
                            vulnerabilityThreshold: 'High'
                        )
                    }
                }
            }
        }
        
        stage('Build & Package') {
            steps {
                sh '''
                    # Build with security flags
                    mvn clean package \
                        -Denforcer.skip=false \
                        -DskipTests=false
                    
                    # Generate SBOM
                    cyclonedx-maven-plugin:makeAggregateBom
                '''
            }
        }
        
        stage('Container Security') {
            steps {
                script {
                    // Build container with security scanning
                    sh '''
                        docker build --no-cache \
                            --label "build.date=$(date -u +%Y-%m-%dT%H:%M:%SZ)" \
                            --label "vcs.ref=$(git rev-parse HEAD)" \
                            -t ${IMAGE_NAME}:${BUILD_NUMBER} .
                        
                        # Scan with multiple tools
                        trivy image --exit-code 1 --severity CRITICAL,HIGH ${IMAGE_NAME}:${BUILD_NUMBER}
                        anchore-cli image add ${IMAGE_NAME}:${BUILD_NUMBER}
                        anchore-cli image wait ${IMAGE_NAME}:${BUILD_NUMBER}
                        anchore-cli evaluate check ${IMAGE_NAME}:${BUILD_NUMBER}
                    '''
                    
                    // Sign container image
                    sh '''
                        cosign sign --key cosign.key ${IMAGE_NAME}:${BUILD_NUMBER}
                        cosign verify --key cosign.pub ${IMAGE_NAME}:${BUILD_NUMBER}
                    '''
                }
            }
        }
        
        stage('Compliance Validation') {
            steps {
                sh '''
                    # Run compliance checks
                    inspec exec compliance-profile --reporter json:compliance-report.json
                    
                    # Policy as Code validation
                    opa eval -d policies/ -i input.json "data.kubernetes.admission.deny[msg]"
                '''
            }
        }
        
        stage('Deploy to Staging') {
            steps {
                script {
                    // Retrieve secrets from Vault
                    withVault(vaultSecrets: [[
                        path: 'secret/data/app',
                        secretValues: [
                            [envVar: 'DB_PASSWORD', vaultKey: 'password'],
                            [envVar: 'API_KEY', vaultKey: 'api_key']
                        ]
                    ]]) {
                        sh '''
                            # Deploy with security context
                            kubectl apply -f k8s/ --namespace=staging
                            kubectl set image deployment/app app=${IMAGE_NAME}:${BUILD_NUMBER}
                            
                            # Verify deployment security
                            kubectl get networkpolicies -n staging
                            kubectl get podsecuritypolicies
                        '''
                    }
                }
            }
        }
        
        stage('Security Testing') {
            parallel {
                stage('DAST') {
                    steps {
                        sh '''
                            # Run OWASP ZAP scan
                            zap-cli --zap-url http://zap:8080 spider ${STAGING_URL}
                            zap-cli --zap-url http://zap:8080 active-scan ${STAGING_URL}
                            zap-cli --zap-url http://zap:8080 report -o zap-report.html -f html
                        '''
                    }
                }
                stage('API Security') {
                    steps {
                        sh '''
                            # API security testing
                            newman run api-security-tests.json \
                                --environment staging.json \
                                --reporters cli,json
                        '''
                    }
                }
            }
        }
    }
    
    post {
        always {
            // Security report aggregation
            publishHTML([
                reportDir: '.',
                reportFiles: '*-report.html',
                reportName: 'Security Reports'
            ])
            
            // Clean up sensitive data
            sh 'shred -vfz sensitive-files/*'
        }
        failure {
            // Security incident notification
            emailext(
                to: 'security-team@company.com',
                subject: "Security Pipeline Failed: ${env.JOB_NAME}",
                body: "Security checks failed. Please review immediately."
            )
        }
    }
}
                </div>

                <h3>Secrets Management Best Practices</h3>
                <div class="grid-2">
                    <div class="phase-card">
                        <div class="phase-title">Secret Storage</div>
                        <ul class="security-checklist">
                            <li>Use dedicated secret management tools</li>
                            <li>Implement encryption at rest</li>
                            <li>Enable audit logging</li>
                            <li>Use temporary credentials when possible</li>
                            <li>Implement secret rotation</li>
                        </ul>
                    </div>
                    <div class="phase-card">
                        <div class="phase-title">Secret Access</div>
                        <ul class="security-checklist">
                            <li>Implement least privilege access</li>
                            <li>Use service accounts for automation</li>
                            <li>Enable MFA for sensitive operations</li>
                            <li>Implement just-in-time access</li>
                            <li>Monitor secret access patterns</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 4: Architecture -->
        <div id="architecture" class="content-section">
            <div class="card">
                <h2>üèóÔ∏è Cloud Security Architecture</h2>
                
                <h3>Multi-Cloud Security Architecture</h3>
                <div class="architecture-diagram">
                    <div class="arch-layer">
                        <div class="layer-title">Application Layer</div>
                        <div class="layer-components">
                            <span class="component">Microservices</span>
                            <span class="component">API Gateway</span>
                            <span class="component">Service Mesh</span>
                            <span class="component">Load Balancers</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <div class="layer-title">Security Services Layer</div>
                        <div class="layer-components">
                            <span class="component">WAF</span>
                            <span class="component">DDoS Protection</span>
                            <span class="component">CASB</span>
                            <span class="component">CSPM</span>
                            <span class="component">CWPP</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <div class="layer-title">Identity & Access Layer</div>
                        <div class="layer-components">
                            <span class="component">SSO/SAML</span>
                            <span class="component">MFA</span>
                            <span class="component">PAM</span>
                            <span class="component">RBAC</span>
                            <span class="component">Zero Trust</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <div class="layer-title">Data Security Layer</div>
                        <div class="layer-components">
                            <span class="component">Encryption at Rest</span>
                            <span class="component">Encryption in Transit</span>
                            <span class="component">DLP</span>
                            <span class="component">Tokenization</span>
                            <span class="component">Key Management</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <div class="layer-title">Infrastructure Layer</div>
                        <div class="layer-components">
                            <span class="component">VPC/VNet</span>
                            <span class="component">Security Groups</span>
                            <span class="component">NACLs</span>
                            <span class="component">Private Subnets</span>
                            <span class="component">VPN/Direct Connect</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <div class="layer-title">Monitoring & Compliance Layer</div>
                        <div class="layer-components">
                            <span class="component">SIEM</span>
                            <span class="component">SOAR</span>
                            <span class="component">Log Aggregation</span>
                            <span class="component">Compliance Scanning</span>
                            <span class="component">Threat Intelligence</span>
                        </div>
                    </div>
                </div>

                <h3>Kubernetes Security Architecture</h3>
                <div class="code-block">
# Kubernetes Security Configuration
apiVersion: v1
kind: Namespace
metadata:
  name: secure-app
  labels:
    pod-security.kubernetes.io/enforce: restricted
    pod-security.kubernetes.io/audit: restricted
    pod-security.kubernetes.io/warn: restricted

---
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: secure-app-netpol
  namespace: secure-app
spec:
  podSelector:
    matchLabels:
      app: secure-app
  policyTypes:
  - Ingress
  - Egress
  ingress:
  - from:
    - namespaceSelector:
        matchLabels:
          name: ingress-controllers
    - podSelector:
        matchLabels:
          app: api-gateway
    ports:
    - protocol: TCP
      port: 8080
  egress:
  - to:
    - namespaceSelector:
        matchLabels:
          name: databases
    ports:
    - protocol: TCP
      port: 5432

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: secure-app-sa
  namespace: secure-app
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::123456789012:role/secure-app-role

---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: secure-app-role
  namespace: secure-app
rules:
- apiGroups: [""]
  resources: ["configmaps", "secrets"]
  verbs: ["get", "list"]
  
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: secure-app
  namespace: secure-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: secure-app
  template:
    metadata:
      labels:
        app: secure-app
      annotations:
        container.apparmor.security.beta.kubernetes.io/secure-app: runtime/default
    spec:
      serviceAccountName: secure-app-sa
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
        fsGroup: 2000
        seccompProfile:
          type: RuntimeDefault
      containers:
      - name: secure-app
        image: secure-app:latest
        imagePullPolicy: Always
        securityContext:
          allowPrivilegeEscalation: false
          readOnlyRootFilesystem: true
          capabilities:
            drop:
            - ALL
        resources:
          limits:
            cpu: "1"
            memory: "1Gi"
          requests:
            cpu: "100m"
            memory: "128Mi"
        livenessProbe:
          httpGet:
            path: /health
            port: 8080
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: 8080
          initialDelaySeconds: 5
          periodSeconds: 5
        volumeMounts:
        - name: tmp
          mountPath: /tmp
        - name: cache
          mountPath: /app/cache
        env:
        - name: DATABASE_PASSWORD
          valueFrom:
            secretKeyRef:
              name: db-credentials
              key: password
      volumes:
      - name: tmp
        emptyDir: {}
      - name: cache
        emptyDir: {}
                </div>

                <div class="best-practice">
                    <div class="best-practice-title">üí° Zero Trust Architecture Principles</div>
                    <p>Implement Zero Trust by: Never trusting any connection by default, verifying every transaction, enforcing least privilege access, assuming breach and minimize blast radius, encrypting all data flows, and implementing continuous monitoring and validation.</p>
                </div>
            </div>
        </div>

        <!-- SECTION 5: Scenarios Q&A -->
        <div id="scenarios" class="content-section">
            <div class="card">
                <h2>üìù Architecture Scenarios & Interview Q&A</h2>
                
                <div class="scenario-box">
                    <div class="scenario-title">üéØ Scenario 1: E-Commerce Platform Migration</div>
                    <div class="scenario-content">
                        Your company is migrating a monolithic e-commerce application processing 10,000 transactions per day to a microservices architecture on AWS. The application handles PCI DSS regulated credit card data and must maintain 99.99% availability. Design a secure cloud architecture and CI/CD pipeline.
                    </div>
                </div>

                <div class="qa-section">
                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q1: How would you design the network architecture for PCI compliance?</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>Network Segmentation Strategy:</strong></p>
                            <ul class="security-checklist">
                                <li>Create separate VPCs for production, staging, and development environments</li>
                                <li>Implement a DMZ subnet for public-facing load balancers</li>
                                <li>Place application servers in private subnets with no direct internet access</li>
                                <li>Create isolated database subnets in multiple availability zones</li>
                                <li>Implement a dedicated Cardholder Data Environment (CDE) subnet with restricted access</li>
                            </ul>
                            
                            <p><strong>Security Controls:</strong></p>
                            <ul class="security-checklist">
                                <li>Deploy AWS WAF on CloudFront and ALB for DDoS protection</li>
                                <li>Implement AWS Network Firewall for stateful inspection</li>
                                <li>Use VPC Flow Logs for network monitoring</li>
                                <li>Deploy Transit Gateway for secure inter-VPC communication</li>
                                <li>Implement PrivateLink endpoints for AWS services</li>
                            </ul>
                            
                            <div class="code-block">
# Terraform configuration for PCI-compliant network
module "vpc" {
  source = "./modules/vpc"
  
  cidr_block = "10.0.0.0/16"
  enable_dns_hostnames = true
  enable_flow_logs = true
  
  public_subnets = [
    "10.0.1.0/24",  # AZ-1 DMZ
    "10.0.2.0/24"   # AZ-2 DMZ
  ]
  
  private_subnets = [
    "10.0.10.0/24", # AZ-1 App
    "10.0.11.0/24", # AZ-2 App
    "10.0.20.0/24", # AZ-1 CDE
    "10.0.21.0/24"  # AZ-2 CDE
  ]
  
  database_subnets = [
    "10.0.30.0/24", # AZ-1 DB
    "10.0.31.0/24"  # AZ-2 DB
  ]
}
                            </div>
                        </div>
                    </div>

                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q2: Design a secure CI/CD pipeline for this microservices architecture</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>Pipeline Architecture:</strong></p>
                            
                            <p>The CI/CD pipeline would be built using AWS native services with security controls at each stage:</p>
                            
                            <ul class="security-checklist">
                                <li><strong>Source Stage:</strong> AWS CodeCommit with branch protection, signed commits, and mandatory code reviews</li>
                                <li><strong>Build Stage:</strong> AWS CodeBuild in isolated VPC with no internet access, pulling dependencies from private artifact repositories</li>
                                <li><strong>Security Scanning:</strong> Integration with AWS Security Hub, Amazon Inspector, and third-party tools</li>
                                <li><strong>Artifact Storage:</strong> Amazon ECR with image scanning and signing using AWS Signer</li>
                                <li><strong>Deployment:</strong> AWS CodeDeploy with blue-green deployments and automatic rollback</li>
                                <li><strong>Monitoring:</strong> AWS CloudWatch, X-Ray for distributed tracing, and GuardDuty for threat detection</li>
                            </ul>
                            
                            <div class="code-block">
# AWS CodePipeline configuration
version: 1
phases:
  pre_build:
    commands:
      # Security scanning
      - echo "Running security checks..."
      - git secrets --install
      - git secrets --scan
      
      # SAST scanning
      - semgrep --config=auto --json -o sast-report.json .
      
      # Dependency checking
      - safety check --json
      - npm audit
      
  build:
    commands:
      # Build application
      - docker build -t $IMAGE_REPO_NAME:$IMAGE_TAG .
      
      # Security scanning
      - trivy image --exit-code 1 --severity CRITICAL,HIGH $IMAGE_REPO_NAME:$IMAGE_TAG
      
      # Sign image
      - aws signer sign-image --source $IMAGE_REPO_NAME:$IMAGE_TAG
      
  post_build:
    commands:
      # Push to ECR
      - docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com/$IMAGE_REPO_NAME:$IMAGE_TAG
      
      # Generate SBOM
      - syft $IMAGE_REPO_NAME:$IMAGE_TAG -o cyclonedx-json > sbom.json
      
      # Compliance validation
      - aws securityhub get-findings --filters '{"ProductArn": [{"Value": "arn:aws:securityhub:*:*:product/aws/inspector"}]}'
                            </div>
                        </div>
                    </div>

                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q3: How would you implement data encryption and key management?</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>Encryption Strategy:</strong></p>
                            
                            <ul class="security-checklist">
                                <li><strong>Data at Rest:</strong> Enable encryption for all storage services (S3, EBS, RDS) using AWS KMS Customer Managed Keys (CMK)</li>
                                <li><strong>Data in Transit:</strong> Enforce TLS 1.2+ for all communications, use AWS Certificate Manager for SSL/TLS certificates</li>
                                <li><strong>Application-level Encryption:</strong> Implement field-level encryption for sensitive data like credit card numbers</li>
                                <li><strong>Key Rotation:</strong> Automatic key rotation every 90 days for compliance</li>
                                <li><strong>Tokenization:</strong> Replace credit card data with tokens using AWS Payment Cryptography</li>
                            </ul>
                            
                            <p><strong>Key Management Implementation:</strong></p>
                            <div class="code-block">
# KMS Key Policy for PCI Compliance
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "Enable IAM User Permissions",
      "Effect": "Allow",
      "Principal": {
        "AWS": "arn:aws:iam::123456789012:root"
      },
      "Action": "kms:*",
      "Resource": "*"
    },
    {
      "Sid": "Allow services to use the key",
      "Effect": "Allow",
      "Principal": {
        "Service": [
          "rds.amazonaws.com",
          "s3.amazonaws.com",
          "lambda.amazonaws.com"
        ]
      },
      "Action": [
        "kms:Decrypt",
        "kms:GenerateDataKey"
      ],
      "Resource": "*"
    },
    {
      "Sid": "Enforce encryption context",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "kms:Decrypt",
      "Resource": "*",
      "Condition": {
        "StringNotEquals": {
          "kms:EncryptionContext:Environment": "production"
        }
      }
    }
  ]
}
                            </div>
                        </div>
                    </div>

                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q4: Design a container security strategy for Kubernetes deployment</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>Container Security Layers:</strong></p>
                            
                            <ul class="security-checklist">
                                <li><strong>Image Security:</strong> Base images from approved registry, regular vulnerability scanning, image signing with Notary</li>
                                <li><strong>Runtime Security:</strong> Implement Falco for runtime threat detection, enforce Pod Security Standards</li>
                                <li><strong>Network Policies:</strong> Default deny-all network policy, explicit allow rules for service communication</li>
                                <li><strong>RBAC:</strong> Least privilege access, service accounts for workloads, avoid cluster-admin usage</li>
                                <li><strong>Secrets Management:</strong> External secrets operator with AWS Secrets Manager integration</li>
                                <li><strong>Admission Control:</strong> OPA Gatekeeper for policy enforcement, ValidatingAdmissionWebhooks</li>
                            </ul>
                            
                            <div class="code-block">
# EKS Security Configuration
apiVersion: eks.amazonaws.com/v1
kind: ClusterConfig
metadata:
  name: secure-cluster
  region: us-east-1
  
nodeGroups:
  - name: secure-nodes
    instanceType: t3.large
    desiredCapacity: 3
    privateNetworking: true
    iam:
      attachPolicyARNs:
        - arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy
        - arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy
        - arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore
    securityGroups:
      withShared: true
      withLocal: true
    ssh:
      allow: false
    
cloudWatch:
  clusterLogging:
    enableTypes: ["api", "audit", "authenticator", "controllerManager", "scheduler"]
    
secretsEncryption:
  keyARN: "arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012"
                            </div>
                        </div>
                    </div>

                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q5: How would you implement monitoring and incident response?</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>Comprehensive Monitoring Strategy:</strong></p>
                            
                            <ul class="security-checklist">
                                <li><strong>SIEM Integration:</strong> Centralize logs in AWS Security Lake or Splunk</li>
                                <li><strong>Real-time Alerts:</strong> CloudWatch Alarms for security events, SNS for notifications</li>
                                <li><strong>Threat Detection:</strong> AWS GuardDuty for malicious activity detection</li>
                                <li><strong>Compliance Monitoring:</strong> AWS Config for configuration compliance</li>
                                <li><strong>Application Monitoring:</strong> AWS X-Ray for distributed tracing, custom metrics in CloudWatch</li>
                            </ul>
                            
                            <p><strong>Incident Response Plan:</strong></p>
                            <div class="code-block">
# Automated Incident Response with Lambda
import boto3
import json
from datetime import datetime

def incident_response_handler(event, context):
    """
    Automated incident response for security events
    """
    # Parse GuardDuty finding
    finding = json.loads(event['Records'][0]['Sns']['Message'])
    severity = finding['severity']
    finding_type = finding['type']
    
    # Initialize AWS clients
    ec2 = boto3.client('ec2')
    sns = boto3.client('sns')
    ssm = boto3.client('ssm')
    
    # High severity response actions
    if severity >= 7:
        instance_id = finding['resource']['instanceDetails']['instanceId']
        
        # 1. Isolate the instance
        isolation_sg = create_isolation_security_group(ec2)
        ec2.modify_instance_attribute(
            InstanceId=instance_id,
            Groups=[isolation_sg]
        )
        
        # 2. Create snapshot for forensics
        response = ec2.create_snapshot(
            Description=f'Incident snapshot - {finding_type}',
            VolumeId=get_instance_volume(instance_id)
        )
        
        # 3. Run incident response SSM document
        ssm.send_command(
            InstanceIds=[instance_id],
            DocumentName='AWS-RunShellScript',
            Parameters={
                'commands': [
                    'systemctl stop application',
                    'netstat -tulpn > /tmp/network_connections.txt',
                    'ps aux > /tmp/running_processes.txt',
                    'aws s3 cp /tmp/*.txt s3://incident-response-bucket/'
                ]
            }
        )
        
        # 4. Notify security team
        sns.publish(
            TopicArn='arn:aws:sns:us-east-1:123456789012:security-alerts',
            Subject=f'CRITICAL: Security Incident - {finding_type}',
            Message=json.dumps({
                'severity': severity,
                'instance_id': instance_id,
                'finding_type': finding_type,
                'actions_taken': ['Instance isolated', 'Snapshot created', 'Forensics collected'],
                'timestamp': datetime.utcnow().isoformat()
            })
        )
    
    return {
        'statusCode': 200,
        'body': json.dumps('Incident response completed')
    }
                            </div>
                        </div>
                    </div>
                </div>

                <div class="scenario-box">
                    <div class="scenario-title">üéØ Scenario 2: Multi-Cloud Financial Services Platform</div>
                    <div class="scenario-content">
                        A financial services company needs to implement a multi-cloud strategy using AWS and Azure for their trading platform. The system must handle 100,000 transactions per second, maintain data sovereignty across regions, and comply with SOC2, ISO 27001, and local financial regulations. Design a DevSecOps pipeline that ensures security across both cloud providers.
                    </div>
                </div>

                <div class="qa-section">
                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q6: How would you implement consistent security policies across AWS and Azure?</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>Cloud-Agnostic Security Framework:</strong></p>
                            
                            <ul class="security-checklist">
                                <li><strong>Policy as Code:</strong> Use Terraform and Open Policy Agent (OPA) for consistent policy enforcement</li>
                                <li><strong>CSPM Tool:</strong> Deploy Prisma Cloud or Aqua Security for multi-cloud security posture management</li>
                                <li><strong>Identity Federation:</strong> Implement SAML-based SSO with Azure AD as identity provider for both clouds</li>
                                <li><strong>Unified SIEM:</strong> Use Splunk or Elastic for centralized logging across both platforms</li>
                                <li><strong>Standardized Encryption:</strong> Implement HashiCorp Vault for key management across clouds</li>
                            </ul>
                            
                            <div class="code-block">
# OPA Policy for Multi-Cloud Compliance
package cloud.security

# Ensure all storage is encrypted
deny[msg] {
    resource := input.resource
    resource.type == "aws_s3_bucket"
    not resource.server_side_encryption_configuration
    msg := sprintf("S3 bucket %s must have encryption enabled", [resource.name])
}

deny[msg] {
    resource := input.resource
    resource.type == "azurerm_storage_account"
    not resource.enable_https_traffic_only
    msg := sprintf("Azure storage %s must enforce HTTPS", [resource.name])
}

# Enforce tagging standards
required_tags := ["Environment", "Owner", "CostCenter", "DataClassification"]

deny[msg] {
    resource := input.resource
    tags := resource.tags
    required := required_tags[_]
    not tags[required]
    msg := sprintf("Resource %s missing required tag: %s", [resource.name, required])
}
                            </div>
                        </div>
                    </div>

                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q7: Design a disaster recovery strategy for the multi-cloud setup</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>Multi-Cloud DR Architecture:</strong></p>
                            
                            <ul class="security-checklist">
                                <li><strong>Active-Active Configuration:</strong> Deploy applications in both AWS and Azure with global load balancing</li>
                                <li><strong>Data Replication:</strong> Cross-cloud replication using Apache Kafka or AWS DataSync to Azure File Sync</li>
                                <li><strong>RTO Target:</strong> 15 minutes with automated failover using Route 53 and Azure Traffic Manager</li>
                                <li><strong>RPO Target:</strong> 1 minute using continuous data replication</li>
                                <li><strong>Backup Strategy:</strong> Cross-cloud backups with AWS Backup to S3 and Azure to Blob Storage</li>
                            </ul>
                            
                            <p><strong>Automated Failover Process:</strong></p>
                            <ol class="security-checklist">
                                <li>Health checks detect primary region failure</li>
                                <li>DNS automatically redirects traffic to secondary region</li>
                                <li>Database promotes read replica to primary</li>
                                <li>Application scales to handle full load</li>
                                <li>Monitoring alerts sent to operations team</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="scenario-box">
                    <div class="scenario-title">üéØ Scenario 3: Healthcare IoT Platform</div>
                    <div class="scenario-content">
                        Design a secure architecture for a healthcare IoT platform that collects data from 50,000 medical devices, processes real-time patient vitals, and must comply with HIPAA regulations. The system should support edge computing, real-time analytics, and maintain patient data privacy while enabling AI/ML for predictive diagnostics.
                    </div>
                </div>

                <div class="qa-section">
                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q8: How would you secure the IoT device communication and data flow?</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>IoT Security Architecture:</strong></p>
                            
                            <ul class="security-checklist">
                                <li><strong>Device Authentication:</strong> X.509 certificates for each device with AWS IoT Device Defender</li>
                                <li><strong>Secure Communication:</strong> MQTT over TLS 1.3 with mutual TLS authentication</li>
                                <li><strong>Edge Computing:</strong> AWS IoT Greengrass for local processing with encrypted storage</li>
                                <li><strong>Data Pipeline Security:</strong> End-to-end encryption from device to cloud storage</li>
                                <li><strong>Device Management:</strong> Over-the-air (OTA) updates with signed firmware</li>
                            </ul>
                            
                            <div class="code-block">
# IoT Device Security Policy
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "iot:Connect"
      ],
      "Resource": [
        "arn:aws:iot:region:account-id:client/${iot:Certificate.Subject.CommonName}"
      ]
    },
    {
      "Effect": "Allow",
      "Action": [
        "iot:Publish"
      ],
      "Resource": [
        "arn:aws:iot:region:account-id:topic/medical/device/${iot:ClientId}/telemetry"
      ]
    },
    {
      "Effect": "Allow",
      "Action": [
        "iot:Subscribe"
      ],
      "Resource": [
        "arn:aws:iot:region:account-id:topicfilter/medical/device/${iot:ClientId}/commands"
      ]
    }
  ]
}
                            </div>
                        </div>
                    </div>

                    <div class="qa-item">
                        <div class="qa-question" onclick="toggleAnswer(this)">
                            <span>Q9: Implement HIPAA-compliant data processing and storage</span>
                            <span class="qa-toggle">+</span>
                        </div>
                        <div class="qa-answer">
                            <p><strong>HIPAA Compliance Strategy:</strong></p>
                            
                            <ul class="security-checklist">
                                <li><strong>Data Encryption:</strong> AES-256 encryption at rest, TLS 1.3 in transit</li>
                                <li><strong>Access Controls:</strong> Attribute-based access control (ABAC) with patient consent management</li>
                                <li><strong>Audit Logging:</strong> Comprehensive CloudTrail logging with immutable storage</li>
                                <li><strong>Data De-identification:</strong> Automated PHI removal for analytics workloads</li>
                                <li><strong>Business Associate Agreements:</strong> Ensure all third-party services are HIPAA compliant</li>
                            </ul>
                            
                            <p><strong>Data Processing Pipeline:</strong></p>
                            <div class="code-block">
# HIPAA-Compliant Data Processing Lambda
import boto3
import json
from cryptography.fernet import Fernet
import hashlib

class HIPAADataProcessor:
    def __init__(self):
        self.kms = boto3.client('kms')
        self.s3 = boto3.client('s3')
        self.dynamodb = boto3.resource('dynamodb')
        
    def process_patient_data(self, event, context):
        """Process patient data with HIPAA compliance"""
        
        # Parse incoming data
        patient_data = json.loads(event['body'])
        
        # Validate data integrity
        if not self.validate_data_integrity(patient_data):
            return {'statusCode': 400, 'body': 'Data integrity check failed'}
        
        # De-identify PHI for analytics
        analytics_data = self.de_identify_phi(patient_data)
        
        # Encrypt sensitive fields
        encrypted_data = self.encrypt_sensitive_data(patient_data)
        
        # Store with audit trail
        self.store_with_audit(encrypted_data, context.request_id)
        
        # Log access for HIPAA compliance
        self.log_access_event({
            'timestamp': datetime.utcnow().isoformat(),
            'user': context.identity.user_arn,
            'action': 'PROCESS_PATIENT_DATA',
            'patient_id': hashlib.sha256(patient_data['patient_id'].encode()).hexdigest(),
            'request_id': context.request_id
        })
        
        return {
            'statusCode': 200,
            'body': json.dumps({'message': 'Data processed successfully'})
        }
    
    def de_identify_phi(self, data):
        """Remove PHI for analytics processing"""
        phi_fields = ['name', 'ssn', 'dob', 'address', 'phone']
        analytics_data = data.copy()
        
        for field in phi_fields:
            if field in analytics_data:
                # Replace with anonymized identifier
                analytics_data[field] = hashlib.sha256(
                    str(analytics_data[field]).encode()
                ).hexdigest()[:8]
        
        return analytics_data
    
    def encrypt_sensitive_data(self, data):
        """Encrypt PHI using KMS data key"""
        # Generate data encryption key
        response = self.kms.generate_data_key(
            KeyId='alias/hipaa-patient-data',
            KeySpec='AES_256'
        )
        
        # Encrypt sensitive fields
        cipher = Fernet(response['Plaintext'][:32])
        encrypted_fields = {}
        
        for field, value in data.items():
            if self.is_phi_field(field):
                encrypted_fields[field] = cipher.encrypt(
                    json.dumps(value).encode()
                ).decode()
            else:
                encrypted_fields[field] = value
        
        # Store encrypted DEK with data
        encrypted_fields['encrypted_dek'] = response['CiphertextBlob']
        
        return encrypted_fields
                            </div>
                        </div>
                    </div>
                </div>

                <div class="best-practice">
                    <div class="best-practice-title">üí° Key Takeaways for Cloud Security Architecture</div>
                    <ul>
                        <li>Always implement defense in depth with multiple security layers</li>
                        <li>Automate security controls to ensure consistency and reduce human error</li>
                        <li>Use infrastructure as code for repeatable and auditable deployments</li>
                        <li>Implement comprehensive monitoring and logging from day one</li>
                        <li>Regular security assessments and penetration testing are essential</li>
                        <li>Keep security documentation updated and conduct regular training</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update navigation buttons
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        function showTab(evt, tabId) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            evt.target.classList.add('active');
        }
        
        function toggleAnswer(questionElement) {
            const answer = questionElement.nextElementSibling;
            const toggle = questionElement.querySelector('.qa-toggle');
            
            if (answer.classList.contains('active')) {
                answer.classList.remove('active');
                toggle.textContent = '+';
            } else {
                answer.classList.add('active');
                toggle.textContent = '‚àí';
            }
        }
    </script>
</body>
</html>
